<section class="cart-page">
    <div class="container">
        <div class="page-header">
            <span class="hero-badge">üõí Your Cart</span>
            <h1>Shopping <span class="accent">Cart</span></h1>
            <p>Review your items before checkout</p>
        </div>

        @if (items().length === 0) {
        <div class="empty-cart">
            <span class="empty-icon">üõí</span>
            <h2>Your cart is empty</h2>
            <p>Looks like you haven't added anything yet.</p>
            <a routerLink="/menu" class="btn-accent">Browse Menu</a>
        </div>
        } @else {
        <div class="cart-layout">
            <!-- Cart Items -->
            <div class="cart-items">
                @for (ci of items(); track ci.item.name) {
                <div class="cart-item">
                    <div class="item-image">
                        <img [src]="ci.item.image" [alt]="ci.item.name">
                    </div>
                    <div class="item-details">
                        <div class="item-info">
                            <h3>{{ ci.item.name }}</h3>
                            <span class="item-category">{{ ci.item.category }}</span>
                            <p class="item-price">{{ ci.item.displayPrice }}</p>
                        </div>
                        <div class="item-actions">
                            <div class="qty-control">
                                <button (click)="decrement(ci.item.name)" class="qty-btn">‚àí</button>
                                <span class="qty-value">{{ ci.quantity }}</span>
                                <button (click)="increment(ci.item.name)" class="qty-btn">+</button>
                            </div>
                            <span class="item-total">{{ formatPrice(ci.item.price * ci.quantity) }}</span>
                            <button class="btn-remove" (click)="remove(ci.item.name)">‚úï</button>
                        </div>
                    </div>
                </div>
                }
            </div>

            <!-- Order Summary -->
            <div class="order-summary">
                <h3>Order Summary</h3>
                <div class="summary-row">
                    <span>Items ({{ itemCount() }})</span>
                    <span>{{ formatPrice(subtotal()) }}</span>
                </div>
                <div class="summary-row">
                    <span>Delivery Fee</span>
                    <span>{{ formatPrice(deliveryFee()) }}</span>
                </div>
                <div class="summary-divider"></div>
                <div class="summary-row total">
                    <span>Total</span>
                    <span>{{ formatPrice(total()) }}</span>
                </div>
                <a routerLink="/checkout" class="btn-accent btn-checkout">
                    Proceed to Checkout ‚Üí
                </a>
                <a routerLink="/menu" class="btn-continue">‚Üê Continue Shopping</a>
            </div>
        </div>
        }
    </div>
</section>
